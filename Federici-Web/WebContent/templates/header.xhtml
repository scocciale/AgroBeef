<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
	<nav>
		<div class="nav-wrapper">
			<div style="width: 10% !important">
				<ul id="nav-mobile" class="left">
					<li><a id="open-menu" onclick="toggleMenu('show')"> <i
							class="fa fa-bars fa-2x color_rosso_cdr" aria-hidden="true" />
					</a></li>
					<li><a id="close-menu" onclick="toggleMenu('hide')"> <i
							class="fa fa-bars fa-2x color_rosso_cdr" aria-hidden="true" />
					</a></li>
				</ul>
			</div>
			<div class="ui-g">
				<div class="ui-g-6" style="padding: 0% !important;">
					<p:graphicImage styleClass="left" height="55px" width="auto"
						value="#{resource['images/AgroBeefLogo.png']}" />
				</div>
				<div class="ui-g-6 logo-nascondi" style="padding: 0% !important;">
					<p:graphicImage styleClass="right" height="62px"
						value="#{resource['images/agroDesk_logo.png']}" />
				</div>
			</div>
		</div>
	</nav>
	<ul id="slide-out" class="side-nav">
		<ul class="collapsible collapsible-accordion"
			style="padding-top: 10px !important; padding-bottom: 10px !important;">
			<li><a class="collapsible-header"> <i
					class="fa fa-user-circle" aria-hidden="true" /> #{userMB.username}
			</a>
				<div class="collapsible-body" style="display: block;">
					<ul>
						<li><p:commandLink onclick="PF('dlgChangePwd').show();"
								oncomplete="toggleMenu('hide')">
								<i class="fa fa-key" aria-hidden="true" />
								Modifica Password
							</p:commandLink></li>
						<li><p:commandLink action="#{userMB.logOut}">
								<i class="fa fa-power-off" aria-hidden="true" />
								Logout
							</p:commandLink></li>
					</ul>
				</div></li>
		</ul>
		<li>
			<div class="divider" />
		</li>
		<li class="bold"><p:commandLink
				action="#{homeMB.navigateTo('HOME')}">
				<i class="fa fa-home " aria-hidden="true" />
				#{text['menu.home']}
			</p:commandLink></li>
		<li class="bold"><p:commandLink
				action="#{homeMB.navigateTo('ANAGRAFICA')}">
				<i class="fa fa-id-card" aria-hidden="true" />
				#{text['menu.anagrafica']}
			</p:commandLink></li>
		<li class="bold"><p:commandLink
				action="#{homeMB.navigateTo('GRUPPI_MONTA')}">
				<i class="fa fa-cubes" aria-hidden="true" />
				#{text['menu.gdm']}
			</p:commandLink></li>
		<li class="bold"><p:commandLink
				action="#{homeMB.navigateTo('GRUPPI_ACCRESCIMENTO')}">
				<i class="fa fa-line-chart" aria-hidden="true" />
				#{text['menu.gda']}
			</p:commandLink></li>
		<li class="bold"><p:commandLink
				action="#{homeMB.navigateTo('VETERINARIA')}">
				<i class="fa fa-heartbeat" aria-hidden="true" />
				#{text['menu.veterinaria']}
			</p:commandLink></li>
		<li class="bold"><p:commandLink
				action="#{homeMB.navigateTo('PESATA_COMMERCIALE')}">
				<i class="fa fa-balance-scale " aria-hidden="true" />
				#{text['menu.pesata.comm']}
			</p:commandLink></li>
	</ul>
	<a style="display: none;" href="#" data-activates="slide-out"
		class="button-collapse"> <i class="material-icons">menu</i>
	</a>

	<p:dialog resizable="false" widgetVar="dlgChangePwd" width="30%"
		id="dlgChangePwd" closable="false" styleClass="dialogClass"
		style="box-shadow: 0px 1px 7px 0px rgba(0, 0, 0, 0.7) !important;">
		<h:form id="pwdForm">

			<div class="row center">
				<h:outputText value="#{text['title.cambio.pwd']}"
					styleClass="text-al-cen"
					style="font-weight: bold !important; font-size:1.5em" />
			</div>
			<div class="row">
				<h:panelGrid id="gridChangePwd" styleClass="companyHeaderGrid">
					<p:row>
						<p:column colspan="1">
							<div class="input-field">
								<p:inputText id="oldPwd" styleClass="validate"
									onkeypress="if (event.keyCode == 13) return false;"
									value="#{userMB.oldPwd}">
								</p:inputText>

								<label class="left-align" for="oldPwd"><h:outputText
										value="#{text['label.old.pwd']}" /></label>
							</div>
						</p:column>
					</p:row>
					<p:row>
						<p:column colspan="1">
							<div class="input-field row">
								<h:inputSecret id="newPwd" styleClass="validate"
									onkeypress="if (event.keyCode == 13) return false;"
									value="#{userMB.newPwd}">
								</h:inputSecret>
								<label class="left-align" for="newPwd"><h:outputText
										value="#{text['label.new.pwd']}" /></label>
							</div>
						</p:column>
					</p:row>
					<p:row>
						<p:column colspan="1">
							<div class="input-field row">
								<h:inputSecret id="confirmPwd" styleClass="validate"
									onkeypress="if (event.keyCode == 13) return false;"
									value="#{userMB.confirmNewPwd}">
								</h:inputSecret>
								<label class="left-align" for="confirmPwd"><h:outputText
										value="#{text['label.conferma.pwd']}" /></label>
							</div>
						</p:column>
					</p:row>

				</h:panelGrid>
			</div>
			<div class="row">
				<p:commandButton id="annullaModPwd"
					value="#{text['button.annulla']}"
					styleClass="width-100 waves-effect waves-light btn giallo_cdr"
					style="width:auto; float:left;"
					oncomplete="PF('dlgChangePwd').hide();" update="dlgChangePwd" />
				<p:tooltip for="annullaModPwd" value="#{text['button.annulla']}"
					position="top" />

				<p:commandButton id="salvaPwd" value="#{text['tooltip.modifica']}"
					actionListener="#{userMB.checkPwd()}" update="pwdMessage"
					styleClass="width-100 waves-effect waves-light btn rosso_cdr"
					style="width:auto; float:right;" />
				<p:tooltip for="salvaPwd" value="#{text['tooltip.modifica']}"
					position="top" />
			</div>
		</h:form>
	</p:dialog>

	<p:messages id="pwdMessage" autoUpdate="true" showDetail="true"
		closable="true" />
</ui:composition>